(function(e){function t(t){for(var a,o,c=t[0],i=t[1],u=t[2],l=0,d=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);b&&b(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},s={app:0},r=[];function c(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"7c152b7a"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={about:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"88cb2b52"}[e]+".css",s=i.p+a,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var u=r[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===s))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===s)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||s,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete o[e],b.parentNode.removeChild(b),n(r)},b.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(b)})).then((function(){o[e]=0})));var a=s[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,n){a=s[e]=[t,n]}));t.push(a[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(b);var n=s[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}s[e]=void 0}};var b=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var b=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1591:function(e,t,n){"use strict";n("24b9")},"1c3e":function(e,t,n){"use strict";n("b484")},"1e6f":function(e,t,n){"use strict";n("f4d6")},"24b9":function(e,t,n){},"3cf4":function(e,t,n){"use strict";n("fde9")},4486:function(e,t,n){"use strict";n("a5e1")},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=s,e.exports=o,o.id="4678"},"4d08":function(e,t,n){},"4d68":function(e,t,n){"use strict";n("4d08")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),o={id:"nav"};function s(e,t,n,s,r,c){var i=Object(a["y"])("Navbar"),u=Object(a["y"])("router-view");return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["g"])("div",o,[Object(a["g"])(i)]),Object(a["g"])(u)])}var r=Object(a["K"])("data-v-b32c9ba4");Object(a["t"])("data-v-b32c9ba4");var c={class:"navbar navbar-expand-lg navbar-light fixed-top"},i=Object(a["g"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["g"])("span",{class:"navbar-toggler-icon"})],-1),u={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},l={key:0,class:"navbar-nav ms-md-5"},d=Object(a["f"])("Home"),b=Object(a["f"])("Groups"),m=Object(a["f"])("Events"),p=Object(a["f"])("About us"),f={class:"navbar-nav ms-auto"},g=Object(a["f"])("Log In");Object(a["r"])();var j=r((function(e,t,n,o,s,j){var v=Object(a["y"])("router-link");return Object(a["q"])(),Object(a["d"])("nav",c,[Object(a["g"])(v,{class:"navbar-brand me-5",to:"/"},{default:r((function(){return[Object(a["g"])("img",{src:s.image,class:"logo"},null,8,["src"])]})),_:1}),i,Object(a["g"])("div",u,[j.isAuth?(Object(a["q"])(),Object(a["d"])("div",l,[Object(a["g"])(v,{class:"nav-link ms-lg-5",to:"/"},{default:r((function(){return[d]})),_:1}),Object(a["g"])(v,{class:"nav-link ms-lg-5",to:"/groups"},{default:r((function(){return[b]})),_:1}),Object(a["g"])(v,{class:"nav-link ms-lg-5",to:"/events"},{default:r((function(){return[m]})),_:1}),Object(a["g"])(v,{class:"nav-link ms-lg-5",to:"/about"},{default:r((function(){return[p]})),_:1})])):Object(a["e"])("",!0),Object(a["g"])("div",f,[j.isAuth?(Object(a["q"])(),Object(a["d"])("button",{key:0,class:"btn login-btn rounded-pill me-5",onClick:t[1]||(t[1]=function(e){return j.logout()})},"Log out")):(Object(a["q"])(),Object(a["d"])(v,{key:1,class:"btn login-btn rounded-pill me-5",role:"button",to:"/login"},{default:r((function(){return[g]})),_:1}))])])])})),v=n("a5f8"),h=n.n(v),O={name:"Navbar",data:function(){return{image:h.a}},computed:{isAuth:function(){return this.$store.getters["auth/isAuthenticated"]}},methods:{logout:function(){this.$store.dispatch("auth/logout")}}};n("9e99");O.render=j,O.__scopeId="data-v-b32c9ba4";var y=O,k={components:{Navbar:y},created:function(){this.$store.dispatch("auth/tryLogin"),this.$store.dispatch("getAllGroups"),this.$store.dispatch("getAllEvents");var e=localStorage.getItem("userId");e&&this.$store.dispatch("getAllJoinedGroups")}};n("7adb");k.render=s;var I=k,S=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),x=Object(a["K"])("data-v-cf45a3e8");Object(a["t"])("data-v-cf45a3e8");var G={class:"home"},w={class:"intro d-flex flex-column align-items-start"},D=Object(a["g"])("p",{class:"intro-text"}," Connect with University People and solve your problems ",-1);Object(a["r"])();var A=x((function(e,t,n,o,s,r){return Object(a["q"])(),Object(a["d"])("div",G,[Object(a["g"])("div",w,[D,Object(a["g"])("button",{class:"btn rounded-pill btn-lg",onClick:t[1]||(t[1]=function(){return r.Join&&r.Join.apply(r,arguments)})},"Join Now!")])])})),E={name:"Home",components:{},methods:{Join:function(){this.$router.push("/login")}}};n("3cf4");E.render=A,E.__scopeId="data-v-cf45a3e8";var q=E,U=Object(a["K"])("data-v-8a3547be");Object(a["t"])("data-v-8a3547be");var C={class:"container mt-3"},L={class:"joined"};Object(a["r"])();var T=U((function(e,t,n,o,s,r){var c=Object(a["y"])("Nav");return Object(a["q"])(),Object(a["d"])("div",C,[Object(a["g"])(c,{onJoined:t[1]||(t[1]=function(e){return s.components="JoinedGroups"}),onMain:t[2]||(t[2]=function(e){return s.components="GroupsList"}),joined:"JoinedGroups"===s.components},null,8,["joined"]),Object(a["g"])("div",L,[(Object(a["q"])(),Object(a["d"])(Object(a["z"])(s.components)))])])})),B={class:"b-row d-lg-flex"},J=Object(a["g"])("div",{class:"col-lg-8 mt-4"},null,-1),M={class:"col-lg-4 mt-4"},_=Object(a["g"])("button",{type:"button ",class:"btn btn-primary ms-2 btn-color","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Create Group ",-1),N={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},z={class:"modal-dialog"},P={class:"modal-content"},V=Object(a["g"])("div",{class:"modal-header"},[Object(a["g"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Create Group"),Object(a["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),$={class:"modal-body"},F=Object(a["g"])("button",{type:"submit",class:"btn btn-success mt-3",id:"saveButton"},"Save",-1);function K(e,t,n,o,s,r){return Object(a["q"])(),Object(a["d"])("div",B,[J,Object(a["g"])("div",M,[Object(a["g"])("button",{type:"button",class:"btn btn-primary ms-2 btn-color",onClick:t[1]||(t[1]=function(t){return n.joined?e.$emit("main"):e.$emit("joined")})},Object(a["B"])(n.joined?"Groups":"Joined Groups"),1),_,Object(a["g"])("div",N,[Object(a["g"])("div",z,[Object(a["g"])("div",P,[V,Object(a["g"])("div",$,[Object(a["g"])("form",{onSubmit:t[4]||(t[4]=Object(a["J"])((function(e){return r.createGroup()}),["prevent"]))},[Object(a["I"])(Object(a["g"])("input",{class:"form-control",type:"text",placeholder:"Group name","aria-label":"default input example","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.form.groupTitle=e})},null,512),[[a["D"],s.form.groupTitle]]),Object(a["I"])(Object(a["g"])("textarea",{name:"description",class:"form-control mt-3",placeholder:"Describe a group you want to create..",cols:"30",rows:"10","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.form.groupDesc=e})},null,512),[[a["D"],s.form.groupDesc]]),F],32)])])])])])])}var Y=n("260b"),R=(n("e71f"),n("66ce"),n("ea7b"),{apiKey:"AIzaSyBmceXJiUWmO9bn9rvyM6MWV7Htb9th7UU",authDomain:"connectin-5556b.firebaseapp.com",databaseURL:"https://connectin-5556b-default-rtdb.firebaseio.com",projectId:"connectin-5556b",storageBucket:"connectin-5556b.appspot.com",messagingSenderId:"402405188842",appId:"1:402405188842:web:590de3e9d7b158bdf52393",measurementId:"G-QY8Y0BVDK6"});Y["a"].initializeApp(R);var W=Y["a"].auth(),H=Y["a"].database(),X=Y["a"].firestore.FieldValue.serverTimestamp,Q=Y["a"].firestore(),Z={name:"Nav",props:{joined:{type:Boolean,default:!1}},data:function(){return{form:{groupTitle:"",groupDesc:""}}},methods:{createGroup:function(){var e=this,t=X();this.$store.dispatch("addGroup",{name:this.form.groupTitle,desc:this.form.groupDesc,users:{}}),Q.collection("rooms").add({name:this.form.groupTitle,createdAt:t}),this.axios.post("https://connectin-5556b-default-rtdb.firebaseio.com/groups.json",{groupName:this.form.groupTitle,groupDesc:this.form.groupDesc}).then((function(){e.$emit("main")})).catch((function(e){console.log(e)})),this.form.groupTitle="",this.form.groupDesc="";var n=document.getElementById("saveButton");n.setAttribute("data-bs-dismiss","modal"),n.click()}}};n("4d68");Z.render=K;var ee=Z,te=(n("b0c0"),{class:"row row-cols-1 row-cols-md-3 g-4"});function ne(e,t,n,o,s,r){var c=Object(a["y"])("Group");return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["g"])("div",te,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.allGroups,(function(e,t){return Object(a["q"])(),Object(a["d"])(c,{key:t,title:e.name,description:e.desc,id:e.id,users:e.users},null,8,["title","description","id","users"])})),128))])])}var ae=n("5530"),oe=n("5502"),se=(n("a4d3"),n("e01a"),{class:"col"}),re={class:"card h-100 mt-5"},ce={class:"card-body"},ie={class:"card-title"},ue={class:"card-text"};function le(e,t,n,o,s,r){return Object(a["q"])(),Object(a["d"])("div",se,[Object(a["g"])("div",re,[Object(a["g"])("div",ce,[Object(a["g"])("h5",ie,Object(a["B"])(n.title),1),Object(a["g"])("p",ue,Object(a["B"])(n.description),1),Object(a["g"])("button",{type:"button",class:"btn btn-info mt-2",disabled:s.value,onClick:t[1]||(t[1]=function(e){return r.joinGroup(),s.value=!0})},Object(a["B"])(s.value?"Joined":"Join Group"),9,["disabled"])])])])}var de=n("1da1"),be=(n("b64b"),n("159b"),n("07ac"),n("96cf"),{name:"Group",props:{title:{type:String,required:!0},description:{type:String,required:!0},users:{type:Object,required:!0},id:{type:String}},data:function(){return{value:!1}},mounted:function(){this.inGroup()},methods:{joinGroup:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=localStorage.getItem("userId"),a=e.id,H.ref("users/"+n).child("groups").orderByChild("id").equalTo(a).once("value",(function(t){t.exists()||(H.ref("users/"+n).child("groups").push({id:a}),e.$store.dispatch("updateJoinedGroups"),H.ref("groups/"+a+"/groupUsers").push({userId:n}))}));case 3:case"end":return t.stop()}}),t)})))()},inGroup:function(){var e=this,t=localStorage.getItem("userId"),n=this.users;Object.keys(n).length>0&&Object.values(n).forEach((function(n){n.userId===t&&(e.value=!0)}))},goToChat:function(){this.$router.push("/chat/".concat(this.title))}}});be.render=le;var me=be,pe={name:"GroupsList",components:{Group:me},computed:Object(ae["a"])({},Object(oe["b"])({allGroups:"allGroups"}))};pe.render=ne;var fe=pe,ge=Object(a["K"])("data-v-640a3b1f");Object(a["t"])("data-v-640a3b1f");var je=Object(a["g"])("h2",{class:"mt-3"},"Joined Groups",-1),ve={class:"card mt-4"},he={class:"list-group"};Object(a["r"])();var Oe=ge((function(e,t,n,o,s,r){var c=Object(a["y"])("JoinedGroup");return Object(a["q"])(),Object(a["d"])("div",null,[je,Object(a["g"])("div",ve,[Object(a["g"])("ul",he,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.allJoinedGroups,(function(e,t){return Object(a["q"])(),Object(a["d"])(c,{key:t,id:e.id,masterId:e.masterId,idx:t,groupDesc:e.groupDesc,groupName:e.groupName,groupUsers:e.groupUsers},null,8,["id","masterId","idx","groupDesc","groupName","groupUsers"])})),128))])])])})),ye={class:"list-group-item"};function ke(e,t,n,o,s,r){return Object(a["q"])(),Object(a["d"])("li",ye,[Object(a["g"])("h5",null,Object(a["B"])(n.groupName),1),Object(a["g"])("p",null,Object(a["B"])(n.groupDesc),1),Object(a["g"])("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=function(){return r.leave&&r.leave.apply(r,arguments)})},"Leave"),Object(a["g"])("button",{type:"button",class:"btn btn-info ms-3",onClick:t[2]||(t[2]=function(){return r.goToChat&&r.goToChat.apply(r,arguments)})},"Go To Chat")])}n("a9e3");var Ie={name:"JoinedGroup",props:{id:String,masterId:String,idx:Number,groupDesc:String,groupName:String,groupUsers:Object},methods:{leave:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=localStorage.getItem("userId"),t.next=3,H.ref("users/"+n+"/groups").child(e.masterId).once("value");case 3:return a=t.sent,H.ref("users/"+n+"/groups").child(e.masterId).remove().catch((function(e){return console.log(e)})),t.next=7,H.ref("groups/"+a.val().id+"/groupUsers").once("value");case 7:o=t.sent,o.forEach((function(e){var t=e.val().userId;t===n&&H.ref("groups/"+a.val().id+"/groupUsers").child(e.key).remove().catch((function(e){return console.log(e)}))})),e.$store.dispatch("deleteJoinedGroup",e.idx);case 10:case"end":return t.stop()}}),t)})))()},goToChat:function(){this.$router.push("/chat/".concat(this.groupName))}}};Ie.render=ke;var Se=Ie,xe={name:"JoinedGroups",components:{JoinedGroup:Se},computed:Object(ae["a"])({},Object(oe["b"])({allJoinedGroups:"allJoinedGroups"}))};n("1591");xe.render=Oe,xe.__scopeId="data-v-640a3b1f";var Ge=xe,we={name:"Groups",components:{Nav:ee,GroupsList:fe,JoinedGroups:Ge},data:function(){return{components:"GroupsList"}}};n("4486");we.render=T,we.__scopeId="data-v-8a3547be";var De=we,Ae=Object(a["K"])("data-v-65dc0e93");Object(a["t"])("data-v-65dc0e93");var Ee={class:"container"},qe={class:"row mt-3"},Ue={class:"col"};Object(a["r"])();var Ce=Ae((function(e,t,n,o,s,r){var c=Object(a["y"])("CreateEvent"),i=Object(a["y"])("EventList");return Object(a["q"])(),Object(a["d"])("div",Ee,[Object(a["g"])(c),Object(a["g"])("div",qe,[Object(a["g"])("div",Ue,[Object(a["g"])(i)])])])})),Le=Object(a["K"])("data-v-0985116e");Object(a["t"])("data-v-0985116e");var Te={class:"row mt-3 "},Be={class:"d-flex"},Je={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Me={class:"modal-dialog"},_e={class:"modal-content"},Ne=Object(a["g"])("div",{class:"modal-header"},[Object(a["g"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Create Group"),Object(a["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ze={class:"modal-body"},Pe=Object(a["g"])("span",null,"Choose a date for event",-1),Ve=Object(a["g"])("button",{type:"submit",class:"btn btn-success mt-3",id:"saveButton"}," Save ",-1);Object(a["r"])();var $e=Le((function(e,t,n,o,s,r){var c=Object(a["y"])("Datepick");return Object(a["q"])(),Object(a["d"])("div",Te,[Object(a["g"])("div",Be,[Object(a["g"])("button",{class:"btn btn-lg ms-auto btnzzz mt-3","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:t[1]||(t[1]=function(t){return e.showModal=!0})}," Create an event! ")]),Object(a["g"])("div",Je,[Object(a["g"])("div",Me,[Object(a["g"])("div",_e,[Ne,Object(a["g"])("div",ze,[Object(a["g"])("form",{onSubmit:t[6]||(t[6]=Object(a["J"])((function(){return r.onSubmit&&r.onSubmit.apply(r,arguments)}),["prevent"]))},[Object(a["I"])(Object(a["g"])("input",{class:"form-control mb-2",type:"text",placeholder:"Event name","aria-label":"default input example","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.form.eventTitle=e})},null,512),[[a["D"],s.form.eventTitle]]),Pe,Object(a["g"])(c,{class:"mb-2",modelValue:s.form.eventDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.form.eventDate=e})},null,8,["modelValue"]),Object(a["I"])(Object(a["g"])("input",{class:"form-control",type:"text",placeholder:"Place of an event","aria-label":"default input example","onUpdate:modelValue":t[4]||(t[4]=function(e){return s.form.eventPlace=e})},null,512),[[a["D"],s.form.eventPlace]]),Object(a["I"])(Object(a["g"])("textarea",{name:"description",class:"form-control mt-3",placeholder:"Describe an event you want to create..",cols:"30",rows:"10","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.form.eventDesc=e})},null,512),[[a["D"],s.form.eventDesc]]),Ve],32)])])])])])}));function Fe(e,t,n,o,s,r){var c=Object(a["y"])("datepicker");return Object(a["q"])(),Object(a["d"])(c,{modelValue:o.picked,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.picked=e})},null,8,["modelValue"])}var Ke=n("24e7"),Ye={components:{Datepicker:Ke["a"]},props:["modelValue"],setup:function(e,t){var n=t.emit,o=Object(a["b"])({get:function(){return new Date(e.modelValue)},set:function(e){return n("update:modelValue",e.toISOString())}});return{picked:o}}};Ye.render=Fe;var Re=Ye,We={name:"CreateEvent",components:{Datepick:Re},data:function(){return{form:{eventTitle:"",eventPlace:"",eventDesc:"",eventDate:(new Date).toISOString(),eventAuthor:localStorage.getItem("emailForSignIn")}}},methods:{onSubmit:function(){var e=this,t=this.form;this.$store.dispatch("submitEvent",t).then((function(){var t=document.getElementById("saveButton");t.setAttribute("data-bs-dismiss","modal"),t.click(),e.form.eventTitle="",e.form.eventPlace="",e.form.eventDesc="",e.form.eventDate=(new Date).toISOString(),e.form.eventAuthor=localStorage.getItem("emailForSignIn"),t.removeAttribute("data-bs-dismiss","modal")}))}}};n("f027");We.render=$e,We.__scopeId="data-v-0985116e";var He=We,Xe=Object(a["K"])("data-v-2c4f04a3");Object(a["t"])("data-v-2c4f04a3");var Qe={class:"card"},Ze=Object(a["g"])("div",{class:"card-header"},[Object(a["g"])("h2",null,"Upcoming Events")],-1);Object(a["r"])();var et=Xe((function(e,t,n,o,s,r){var c=Object(a["y"])("Event");return Object(a["q"])(),Object(a["d"])("div",Qe,[Ze,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.allEvents,(function(e,t){return Object(a["q"])(),Object(a["d"])(c,{key:t,title:e.title,desc:e.desc,date:e.date,place:e.place,author:e.author},null,8,["title","desc","date","place","author"])})),128))])})),tt={class:"card w-75 m-3 align-self-center"},nt={class:"card-body"},at={class:"card-title"};function ot(e,t,n,o,s,r){return Object(a["q"])(),Object(a["d"])("div",tt,[Object(a["g"])("div",nt,[Object(a["g"])("h4",at,Object(a["B"])(n.title),1),Object(a["g"])("p",null,"Location: "+Object(a["B"])(n.place),1),Object(a["g"])("p",null,Object(a["B"])(n.desc),1),Object(a["g"])("p",null,"Date: "+Object(a["B"])(e.moment(n.date).format("DD.MM.YYYY")),1),Object(a["g"])("p",null,"Creator of event: "+Object(a["B"])(n.author),1)])])}var st=n("c1df"),rt=n.n(st),ct={props:{title:String,desc:String,place:String,date:String,author:String},created:function(){this.moment=rt.a}};ct.render=ot;var it=ct,ut={name:"EventList",components:{Event:it},computed:Object(ae["a"])({},Object(oe["b"])({allEvents:"allEvents"}))};n("1e6f");ut.render=et,ut.__scopeId="data-v-2c4f04a3";var lt=ut,dt={name:"Events",components:{CreateEvent:He,EventList:lt}};n("5fdd");dt.render=Ce,dt.__scopeId="data-v-65dc0e93";var bt=dt,mt=Object(a["K"])("data-v-857977bc");Object(a["t"])("data-v-857977bc");var pt={class:"container"},ft={class:"row vh-100"},gt={class:"col-6 my-auto"},jt={class:"col-6 my-auto"};Object(a["r"])();var vt=mt((function(e,t,o,s,r,c){var i=Object(a["y"])("LoginInput");return Object(a["q"])(),Object(a["d"])("div",pt,[Object(a["g"])("div",ft,[Object(a["g"])("div",gt,[Object(a["g"])("img",{src:n("e51a"),alt:"Login",class:"img-fluid"},null,8,["src"])]),Object(a["g"])("div",jt,[Object(a["g"])(i)])])])})),ht={class:"border border-secondary p-5"},Ot={key:0},yt=Object(a["g"])("h2",{class:"mb-5"},"Log In",-1),kt={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},It={class:"modal-dialog"},St={class:"modal-content"},xt=Object(a["g"])("div",{class:"modal-header"},[Object(a["g"])("h5",{class:"modal-title",id:"staticBackdropLabel"},"Notification"),Object(a["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Gt={class:"modal-body"},wt={class:"modal-footer"},Dt={key:1},At=Object(a["g"])("h2",null,"You are logged in",-1),Et={key:2},qt=Object(a["g"])("h2",null,"Loading........",-1);function Ut(e,t,n,o,s,r){return Object(a["q"])(),Object(a["d"])("div",ht,[s.showAskForMail?(Object(a["q"])(),Object(a["d"])("div",Ot,[yt,Object(a["I"])(Object(a["g"])("input",{type:"email",class:"form-control mb-4",placeholder:"Your  email","aria-label":"Username","aria-describedby":"addon-wrapping","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.email=e})},null,512),[[a["D"],s.email]]),Object(a["g"])("button",{class:"btn btn-primary m-3","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",onClick:t[2]||(t[2]=function(e){return r.login()})},"Let's start"),Object(a["g"])("div",kt,[Object(a["g"])("div",It,[Object(a["g"])("div",St,[xt,Object(a["g"])("div",Gt,[Object(a["g"])("h4",null,"Check "+Object(a["B"])(s.email)+" mailbox, you have there authentication link.",1)]),Object(a["g"])("div",wt,[Object(a["g"])("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=function(){return r.Okay&&r.Okay.apply(r,arguments)})},"OK")])])])])])):s.isSuccess?(Object(a["q"])(),Object(a["d"])("div",Dt,[At])):r.isBoth?(Object(a["q"])(),Object(a["d"])("div",Et,[qt])):Object(a["e"])("",!0)])}var Ct={name:"LoginInput",data:function(){return{email:"",showAskForMail:!1,isSuccess:!1}},created:function(){var e=location.href,t=localStorage.getItem("emailForSignIn");W.isSignInWithEmailLink(e)&&t?(this.$store.dispatch("auth/auth",{url:e,email:t}),this.isSuccess=!0):this.showAskForMail=!0},methods:{login:function(){var e=this.email;this.$store.dispatch("auth/login",{email:e})},continueWithSignIn:function(){W.signInWithEmailLink(this.email,location.href)},Okay:function(){this.showAskForMail=!1,this.isSuccess=!1},isBoth:function(){return!this.showAskForMail&&!this.isSuccess}}};Ct.render=Ut;var Lt=Ct,Tt={name:"Login",components:{LoginInput:Lt}};Tt.render=vt,Tt.__scopeId="data-v-857977bc";var Bt=Tt,Jt={class:"container mt-10"},Mt={class:"card text-center"},_t={class:"card-header"},Nt={class:"card-body"},zt={class:"msger-chat"},Pt={class:"card-footer text-muted"},Vt={class:"d-flex align-items-center"};function $t(e,t,n,o,s,r){var c=Object(a["y"])("ChatMassage");return Object(a["q"])(),Object(a["d"])("div",Jt,[Object(a["g"])("div",Mt,[Object(a["g"])("div",_t,Object(a["B"])(this.$route.params.groupName),1),Object(a["g"])("div",Nt,[Object(a["g"])("div",zt,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(s.messages,(function(e,t){return Object(a["q"])(),Object(a["d"])(c,{key:t,sender:e.sender,message:e.message,timestamp:e.timestamp,currentUser:s.currentUser},null,8,["sender","message","timestamp","currentUser"])})),128))])]),Object(a["g"])("div",Pt,[Object(a["g"])("div",Vt,[Object(a["g"])("form",{action:"",class:"form",onSubmit:t[2]||(t[2]=function(){return r.sendMessage&&r.sendMessage.apply(r,arguments)})},[Object(a["I"])(Object(a["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.message=e}),placeholder:"Enter message"},null,512),[[a["D"],s.message]])],32),Object(a["g"])("button",{type:"submit",class:"btn btn-primary ms-3",onClick:t[3]||(t[3]=function(){return r.sendMessage&&r.sendMessage.apply(r,arguments)})},"send")])])])])}n("1276"),n("ac1f"),n("d81d");var Ft={key:0,class:"msg right-msg"},Kt={class:"msg-bubble"},Yt={class:"msg-info"},Rt={class:"msg-info-name"},Wt={class:"msg-info-time"},Ht={class:"msg-text"},Xt={key:1,class:"msg left-msg"},Qt={class:"msg-bubble"},Zt={class:"msg-info"},en={class:"msg-info-name"},tn={class:"msg-info-time"},nn={class:"msg-text"};function an(e,t,n,o,s,r){return n.currentUser===n.sender?(Object(a["q"])(),Object(a["d"])("div",Ft,[Object(a["g"])("div",Kt,[Object(a["g"])("div",Yt,[Object(a["g"])("div",Rt,Object(a["B"])(n.sender),1),Object(a["g"])("div",Wt,Object(a["B"])(r.getDate()),1)]),Object(a["g"])("div",Ht,Object(a["B"])(n.message),1)])])):(Object(a["q"])(),Object(a["d"])("div",Xt,[Object(a["g"])("div",Qt,[Object(a["g"])("div",Zt,[Object(a["g"])("div",en,Object(a["B"])(n.sender),1),Object(a["g"])("div",tn,Object(a["B"])(r.getDate()),1)]),Object(a["g"])("div",nn,Object(a["B"])(n.message),1)])]))}var on={props:{sender:{type:String},message:{type:String},timestamp:{type:Object},currentUser:{type:String}},methods:{getDate:function(){return this.timestamp?rt()(new Date(this.timestamp.toDate())).format("MMM Do YYYY"):""}}};n("1c3e");on.render=an;var sn=on,rn={components:{ChatMassage:sn},created:function(){var e=localStorage.getItem("emailForSignIn");e=e.split("@"),this.currentUser=e[0]},mounted:function(){var e=this,t=this.$route.params.groupName;t&&Q.collection("rooms").where("name","==",t).onSnapshot((function(t){var n=[];t.forEach((function(e){n.push(Object(ae["a"])(Object(ae["a"])({},e.data()),{},{id:e.id}))})),n.length&&(e.roomId=n[0].id,Q.collection("rooms").doc(n[0].id).collection("messages").orderBy("timestamp","asc").onSnapshot((function(t){e.messages=t.docs.map((function(e){return e.data()}))})))}))},data:function(){return{message:"",messages:[],roomId:"",currentUser:""}},methods:{sendMessage:function(e){e.preventDefault(),this.message&&(Q.collection("rooms").doc(this.roomId).collection("messages").add({message:this.message,sender:this.currentUser,timestamp:X()}),this.message="")}}};n("fe66");rn.render=$t;var cn,un=rn,ln=(n("a434"),n("bc3a")),dn=n.n(ln),bn={namespaced:!0,state:function(){return{userId:"",token:""}},mutations:{setUser:function(e,t){e.userId=t.userId,e.token=t.token}},actions:{login:function(e,t){var n=t.email,a={url:"".concat(location.origin,"/login"),handleCodeInApp:!0};W.sendSignInLinkToEmail(n,a).then((function(){localStorage.setItem("emailForSignIn",n)})).catch((function(e){console.log(e)}))},auth:function(e,t){W.signInWithEmailLink(t.email,t.url).then((function(t){dn.a.post("https://securetoken.googleapis.com/v1/token?key=AIzaSyBmceXJiUWmO9bn9rvyM6MWV7Htb9th7UU",{grant_type:"refresh_token",refresh_token:t.user.refreshToken}).then((function(t){var n=1e3*+t.data.expires_in,a=(new Date).getTime()+n,o=t.data.id_token,s=t.data.user_id;localStorage.setItem("token",o),localStorage.setItem("userId",s),localStorage.setItem("tokenExpiration",a),H.ref("users/"+s).once("value",(function(e){e.exists()||H.ref("users/"+s).set({email:localStorage.getItem("emailForSignIn")})})),cn=setTimeout((function(){e.dispatch("autoLogout")}),n),e.commit("setUser",{token:o,userId:s}),gn.push("/groups")}))}))},tryLogin:function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),a=localStorage.getItem("tokenExpiration"),o=+a-(new Date).getTime();o<0||(cn=setTimeout((function(){e.dispatch("autoLogout")}),o),t&&n&&e.commit("setUser",{token:t,userId:n}))},logout:function(e){localStorage.removeItem("emailForSignIn"),localStorage.removeItem("token"),localStorage.removeItem("userId"),clearTimeout(cn),gn.push("/"),e.commit("setUser",{token:null,userId:null})},autoLogout:function(e){e.dispatch("logout")}},getters:{userId:function(e){return e.userId},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token}}},mn=Object(oe["a"])({state:{allGroups:[],allEvents:[],allJoinedGroups:[]},mutations:{setAllGroups:function(e,t){e.allGroups=t},addToGroups:function(e,t){e.allGroups.push(t)},setAllEvents:function(e,t){e.allEvents=t},addToEvents:function(e,t){e.allEvents.push(t)},setAllJoinedGroups:function(e,t){e.allJoinedGroups=t},deleteJoinedGroup:function(e,t){e.allJoinedGroups.splice(t,1)}},actions:{getAllGroups:function(e){var t=e.commit;dn.a.get("https://connectin-5556b-default-rtdb.firebaseio.com/groups.json").then((function(e){if(e)return e.data})).then((function(e){var n=[];for(var a in e)n.push({id:a,name:e[a].groupName,desc:e[a].groupDesc,users:e[a].groupUsers?e[a].groupUsers:{}});t("setAllGroups",n)}))},addGroup:function(e,t){e.commit("addToGroups",t)},getAllEvents:function(e){dn.a.get("https://connectin-5556b-default-rtdb.firebaseio.com/events.json").then((function(e){if(e)return e.data})).then((function(t){var n=[];for(var a in t)n.push({id:a,title:t[a].eventTitle,desc:t[a].eventDesc,place:t[a].eventPlace,date:t[a].eventDate,author:t[a].eventAuthor});e.commit("setAllEvents",n)}))},submitEvent:function(e,t){var n={title:t.eventTitle,desc:t.eventDesc,place:t.eventPlace,date:t.eventDate,author:t.eventAuthor};return e.commit("addToEvents",n),dn.a.post("https://connectin-5556b-default-rtdb.firebaseio.com/events.json",{eventTitle:t.eventTitle,eventPlace:t.eventPlace,eventDesc:t.eventDesc,eventDate:t.eventDate,eventAuthor:t.eventAuthor}).catch((function(e){console.log(e)}))},getAllJoinedGroups:function(e){return Object(de["a"])(regeneratorRuntime.mark((function t(){var n,a,o,s,r,c,i,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=localStorage.getItem("userId"),t.next=3,H.ref("users/"+n).get();case 3:a=t.sent,o=a.val().groups,s=[],t.t0=regeneratorRuntime.keys(o);case 7:if((t.t1=t.t0()).done){t.next=18;break}return r=t.t1.value,t.next=11,H.ref("groups/"+o[r].id).get();case 11:c=t.sent,i=c.val().groupName,u=c.val().groupDesc,l=c.val().groupUsers,s.push({id:o[r].id,masterId:r,groupName:i,groupDesc:u,groupUsers:l}),t.next=7;break;case 18:e.commit("setAllJoinedGroups",s);case 19:case"end":return t.stop()}}),t)})))()},updateJoinedGroups:function(e){e.dispatch("getAllJoinedGroups")},deleteJoinedGroup:function(e,t){e.commit("deleteJoinedGroup",t)}},getters:{allGroups:function(e){return e.allGroups},allEvents:function(e){return e.allEvents},allJoinedGroups:function(e){return e.allJoinedGroups}},modules:{auth:bn}}),pn=[{path:"/",name:"Home",component:q},{path:"/chat/:groupName",name:"Chat",component:un,meta:{requiresAuth:!0}},{path:"/groups",name:"Groups",component:De,meta:{requiresAuth:!0}},{path:"/events",name:"Events",component:bt,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:Bt,meta:{requiresUnauth:!0}},{path:"/about",name:"About",meta:{requiresAuth:!0},component:function(){return n.e("about").then(n.bind(null,"f820"))}}],fn=Object(S["a"])({history:Object(S["b"])("/"),routes:pn});fn.beforeEach((function(e,t,n){e.meta.requiresAuth&&!mn.getters["auth/isAuthenticated"]?n("/login"):e.meta.requiresUnauth&&mn.getters["auth/isAuthenticated"]?n("/groups"):n()}));var gn=fn,jn=(n("7b17"),n("ab8b"),n("2106")),vn=n.n(jn);Object(a["c"])(I).use(mn).use(gn).use(vn.a,dn.a).mount("#app")},"5fdd":function(e,t,n){"use strict";n("67d7")},6506:function(e,t,n){},"67d7":function(e,t,n){},"6e87":function(e,t,n){},"6eb7":function(e,t,n){},"7adb":function(e,t,n){"use strict";n("6eb7")},8295:function(e,t,n){},"9e99":function(e,t,n){"use strict";n("6506")},a5e1:function(e,t,n){},a5f8:function(e,t,n){e.exports=n.p+"img/ConnectInLogo.f0752784.jpg"},b484:function(e,t,n){},e51a:function(e,t,n){e.exports=n.p+"img/loginPicture.770e679e.jpg"},f027:function(e,t,n){"use strict";n("6e87")},f4d6:function(e,t,n){},fde9:function(e,t,n){},fe66:function(e,t,n){"use strict";n("8295")}});
//# sourceMappingURL=app.fa15d59f.js.map